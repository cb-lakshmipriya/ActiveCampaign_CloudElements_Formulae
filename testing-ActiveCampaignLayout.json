{"id":29308,"name":"testing-ActiveCampaignLayout","userId":27893,"accountId":24428,"createdDate":"2019-09-03T05:28:14Z","steps":[{"id":213932,"onSuccess":["Layout"],"onFailure":[],"name":"InputParams","type":"script","properties":{"body":"// let apiKey = trigger.args.request.query['cb-api-key'];\n// let siteName = trigger.args.request.query['cb-site-name'];\n// let siteDomain = trigger.args.request.query['cb-domain'];\n\n\nlet params = {\n    cbid: {\n        type : \"activecampaign\",\n        chargebeeElement: \"1060\",\n        thirdPartyElement: \"1016\",\n        formulaConnect: \"939\",\n        formulaCreate: \"940\",\n        formulaValidate: \"882\",\n        formulaMapping: \"881\",\n        formulaMappingProceed: \"880\",\n        formulaSync: \"943\",\n        activeCampaignCreateSetup:\"937\",\n        activeCampaignValidateSetup: \"946\",\n        activeCampaignValidateProceedSetup: \"948\",\n        activeCampaignValidateProceedFinal: \"947\",\n        activeCampaignMappingSetup: \"942\",\n        activeCampaignMappingProceedSetup: \"943\",\n        activeCampaignInitialSyncRunSetup: \"950\",\n        ActiveCampaignProcessingCardSetup: \"944\",\n        ActiveCampaignSyncRunSetup: \"945\",\n        ActiveCampaignUnlinkSetup: \"949\"\n    }\n};\ndone(params);"}},{"id":213933,"onSuccess":[],"onFailure":[],"name":"Layout","type":"script","properties":{"body":"let layout;\n\n  layout = {\n  \"logo\": \"/third_party/cn-activecampaign.png\",\n  \"integDispName\": \"ActiveCampaign\",\n  \"subStepList\": [\n      {\n          \"stepName\": \"Connect\",\n          \"stepId\": \"connect\",\n          \"apiEndPoint\": {\n              \"type\": \"GET\",\n              \"headers\": {\n                  \"Elements-Formula-Instance-Id\": \"399534\"\n              },\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/init\",\n              \"input\": {\n                  \"type\": \"activecampaign\",\n                  \"chargebeeElement\": \"19681\",\n                  \"thirdPartyElement\": \"19703\",\n                  \"formulaConnect\": \"399535\",\n                  \"formulaCreate\": \"399536\",\n                  \"formulaValidate\": \"29317\",\n                  \"formulaMapping\": \"29309\",\n                  \"formulaMappingProceed\": \"29311\",\n                  // \"formulaSync\": \"30543\",\n                  \"formulaSync\": \"32284\",\n                  \"activeCampaignCreateSetup\": \"406371\",\n                  \"activeCampaignValidateSetup\": \"399538\",\n                  \"activeCampaignValidateProceedSetup\": \"399539\",\n                  \"activeCampaignValidateProceedFinal\": \"399540\",\n                  \"activeCampaignMappingSetup\": \"399541\",\n                  \"activeCampaignMappingProceedSetup\": \"399542\",\n                  // \"activeCampaignInitialSyncRunSetup\": \"399645\",\n                  \"activeCampaignInitialSyncRunSetup\": \"422638\",                  \n                  // \"ActiveCampaignSyncRunSetup\": \"407488\",\n                  \"ActiveCampaignSyncRunSetup\": \"422639\",\n                  // \"ActiveCampaignUnlinkSetup\": \"399546\",\n                  \"ActiveCampaignUnlinkSetup\": \"429172\",\n                  \"url\":\"https://staging.cloud-elements.com/elements/api-v2\"\n              }\n          }\n      },\n      \n      {\n          \"stepName\": \"Data Validation\",\n          \"stepId\": \"step_1\",\n          \"apiEndPoint\": {\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/validate\",\n              \"type\": \"GET\",\n              \"headers\": {\n                  \"Elements-Formula-Instance-Id\": \"399538\"\n              },\n              \"input\": {\n                  \"type\": \"activecampaign\",\n                  \"retry\": \"false\"\n              }\n          },\n          \"backStepApiEndPoint\": {\n              \"type\": \"GET\",\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/activecampaign/goback\",\n              \"headers\": {\n                  \"Elements-Formula-Instance-Id\": \"399547\"\n              },\n              \"input\": {\n                  \"integrationName\": \"activecampaign\"\n              }\n          }\n      },\n      {\n          \"stepName\": \"Configure Sync Preferences \",\n          \"stepId\": \"step_2\",\n          \"apiEndPoint\": {\n              \"type\": \"GET\",\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/mapping\",\n              \"headers\": {\n                  \"Elements-Formula-Instance-Id\": \"399541\"\n              },\n              \"input\": {\n                  \"type\": \"activecampaign\",\n                  \"op\": \"new\"\n              }\n          },\n          \"editConfig\": {\n              \"title\": \"Manage how Chargebee syncs data with ActiveCampaign\",\n              \"display\": \"Manage sync rules\",\n              \"apiEndPoint\": {\n                  \"type\": \"GET\",\n                  \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/mapping\",\n                  \"headers\": {\n                      \"Elements-Formula-Instance-Id\": \"399541\"\n                  },\n                  \"input\": {\n                      \"type\": \"activecampaign\",\n                      \"op\": \"edit\"\n                  }\n              }\n          },\n          \"backStepApiEndPoint\": {\n              \"type\": \"GET\",\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/activecampaign/goback\",\n              \"headers\": {\n                  \"Elements-Formula-Instance-Id\": \"399547\"\n              },\n              \"input\": {\n                  \"integrationName\": \"activecampaign\"\n              }\n          }\n      },\n      {\n          \"stepName\": \"Run Initial Sync\",\n          \"stepId\": \"step_3\",\n          \"apiEndPoint\": {\n              \"type\": \"GET\",\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/initialsync/run\",\n              \"headers\": {\n                  // \"Elements-Formula-Instance-Id\": \"399645\"\n                  \"Elements-Formula-Instance-Id\": \"422638\"\n              },\n              \"input\": {\n                  \"type\": \"activecampaign\",\n                  \"action\": \"default\",\n                  \"initialSync\": \"true\"\n              }\n          },\n          \"backStepApiEndPoint\": {\n              \"type\": \"GET\",\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/activecampaign/goback\",\n              \"headers\": {\n                  \"Elements-Formula-Instance-Id\": \"399547\"\n              },\n              \"input\": {\n                  \"integrationName\": \"activecampaign\"\n              }\n          }\n      },\n      {\n          \"stepName\": \"Final step\",\n          \"stepId\": \"completed\",\n          \"apiEndPoint\": {\n              \"type\": \"GET\",\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/sync/run\",\n              \"headers\": {\n                  // \"Elements-Formula-Instance-Id\": \"407488\"\n                  \"Elements-Formula-Instance-Id\": \"422639\"\n              },\n              \"input\": {\n                  \"type\": \"activecampaign\",\n                  \"syncNow\": \"default\"\n              }\n          },\n          \"fullSyncApiEndPoint\": {\n              \"type\": \"GET\",\n              \"apiUrl\": \"https://staging.cloud-elements.com/elements/api-v2/autoSync\",\n              \"headers\": {\n                  \"Elements-Formula-Instance-Id\": \"399548\"\n              },\n              \"input\": {\n                  \"type\": \"activecampaign\"\n              }\n          }\n      }\n  ]\n};\n\ndone({\n  statusCode: 200,\n  result: layout\n});"}}],"triggers":[{"id":25943,"onSuccess":["InputParams"],"onFailure":[],"type":"manual","async":true,"name":"trigger","properties":{}}],"method":"GET","uri":"/activecampaign/layout","engine":"v1","active":true,"debugLoggingEnabled":true,"singleThreaded":false,"api":"GET /activecampaign/layout","configuration":[]}